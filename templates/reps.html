{% extends 'index.html' %}
{% block body %}

<div class="tile is-ancestor">
    <div class="tile is-vertical is-parent">
        {% for rep in reps %}
        <article class="tile is-child box">

            <div class="level">
                <p class="level-left title">{{ rep.name }}
                </p>
                <p class="level-right title">{{ rep.party }}</p>
            </div>

            <div class="tile is-parent">

                <!--      PICTURE     -->
                <div class="tile is-child is-2">
                    {% if rep.photo %}
                    <img class="rep-photo" src="{{ rep.photo }}">
                    {% else %}
                    <img src="{{ url_for('static', filename='default-profile-image.jpg') }}">
                    {% endif %}
                </div>

                <!-- CONTACT AND SHIT -->
                <div class="tile is-child is-3">


                    <article class="message is-dark">
                        <div class="message-body has-text-left">
                            {% for key, value in rep.contact.items() %}

                            {% if loop.last %}
                            <br>
                            <a href="{{ value }}" target="_blank">{{ value }}</a>
                            {% else %}
                            <p> {{ value }} </p>
                            {% endif %}

                            {% endfor %}
                        </div>
                    </article>

                    {% if rep.committees %}
                    <article class="message is-success">
                        <div class="message-body has-text-left">
                            {% for value in rep.committees %}
                            <p> {{ value.position }} of <b>{{value.name}}</b> Committee</p>
                            {% endfor %}
                        </div>
                    </article>
                    {% endif %}

                    {% if rep.social %}
                        <article class="message is-warning is-fluid" style = "display: inline-block">
                            <div class="message-body has-text-left">
                                {% for social in rep.social %}
                                <a class="icon-link"href="{{social.link}}" target = "_blank"><span class="icon is-medium">
                                {% if social.type == 'GooglePlus' %}
                                <i class="fa fa-google-plus-square"></i>
                                {% elif social.type == 'Facebook' %}
                                <i class="fa fa-facebook"></i>
                                {% elif social.type == 'Twitter' %}
                                <i class="fa fa-twitter"></i>
                                {% elif social.type == 'YouTube' %}
                                <i class="fa fa-youtube"></i>
                                {% endif %}
                            </span>
                                </a>
                                {% endfor %}
                            </div>
                        </article>

                    {% endif %}

                </div>

                <!-- BILL CHART -->
                <div class="tile is-3">
                    {% if rep.pie_chart %}
                    <embed type="image/svg+xml" src="{{ rep.pie_chart|safe }}" style="width:100%"/>
                    {% elif rep.wordcloud_loc %}
                    <img src="clouds/{{ rep.wordcloud_loc }}" style="width:100%">
                    {% endif %}
                </div>

                <div class="tile is-child is-4">
                    <p class="title has-text-right">{{ rep.chamber }}</p>
                </div>

            </div>


        </article>
        {% endfor %}
    </div>
</div>

{% endblock %}